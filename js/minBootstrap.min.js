function initnavbar(){document.addEventListener("click",(t=>{document.querySelectorAll(".navbar-toggler").forEach((e=>{(t.target==e||e.contains(t.target))&&toggleCollapse(e.dataset.target)}))}))}function toggleCollapse(t){document.querySelectorAll(t).forEach((t=>{if(t.classList.contains("opened")){function e(){t.classList.contains("opened")&&t.classList.remove("opened"),t.removeEventListener("animationend",e),t.removeEventListener("webkitAnimationEnd",e)}slideUpElement(t),t.addEventListener("animationend",e),t.addEventListener("webkitAnimationEnd",e)}else t.classList.add("opened"),slideDownElement(t)}))}function initCollapse(){document.addEventListener("click",(t=>{document.querySelectorAll("a,.btn").forEach((e=>{(t.target==e||e.contains(t.target))&&"collapse"==e.dataset.toggle&&toggleCollapse(e.dataset.target)}))}))}function initAnimateSlideStyle(){let t=document.createElement("style");t.id="mb-slide-elm",document.querySelectorAll("head").forEach((e=>{e.append(t)}))}function slideDownElement(t){document.querySelectorAll("#mb-slide-elm").forEach((e=>{e.innerHTML=`\n        @keyframes slide-elm-down {\n            from{\n                max-height: 0px;   \n            }\n            to{\n                max-height: ${t.offsetHeight}px;\n            }\n        }\n        `})),t.setAttribute("style","animation: slide-elm-down .3s ease;will-change:height;"),t.addEventListener("animationend",(()=>{t.removeAttribute("style")}))}function slideUpElement(t){document.querySelectorAll("#mb-slide-elm").forEach((e=>{e.innerHTML=`\n        @keyframes slide-elm-up {\n            from{\n                max-height: ${t.offsetHeight}px;\n            }\n            to{\n                max-height: 0px;\n            }\n        }\n        `})),t.setAttribute("style","animation: slide-elm-up .3s ease;"),t.addEventListener("animationend",(()=>{t.removeAttribute("style")}))}function initmodal(){document.addEventListener("click",(t=>{let e=!0;document.querySelectorAll(".btn,.close,a").forEach((n=>{if(t.target==n||n.contains(t.target)){if("modal"==n.dataset.toggle)return openModal(n.dataset.target),e=!1,!1;if("modal"==n.dataset.dismiss)return closeModal(),e=!1,!1}})),e&&document.querySelectorAll(".modal.showing").forEach((e=>{if(t.target==e){if(e.classList.contains("static")){let t=e.querySelectorAll(".modal-dialog").item(0);return e.classList.contains("br")||e.classList.contains("bl")||e.classList.contains("tr")||e.classList.contains("tl")?t.setAttribute("style","transform:scale(1.02);will-change:transform;"):t.setAttribute("style","transform:scale(1.02) translate(-50%);will-change:transform;"),t.addEventListener("transitionend",(()=>{t.removeAttribute("style")})),!1}return closeModal(),!1}}))})),document.addEventListener("keyup",closeModalEsc)}function openModal(t){document.querySelectorAll(t).forEach((t=>{t.classList.add("showing"),document.body.offsetHeight>window.innerHeight&&(document.body.style.paddingRight=window.innerWidth-document.body.clientWidth+"px"),document.body.classList.add("modal-open")}))}function closeModalEsc(t){if("Escape"==t.key){let t=!0;document.querySelectorAll(".modal.showing").forEach((e=>{if(e.classList.contains("static")){let n=e.querySelectorAll(".modal-dialog").item(0);return e.classList.contains("br")||e.classList.contains("bl")||e.classList.contains("tr")||e.classList.contains("tl")?n.setAttribute("style","transform:scale(1.02);will-change:transform;"):n.setAttribute("style","transform:scale(1.02) translate(-50%);will-change:transform;"),n.addEventListener("transitionend",(()=>{n.removeAttribute("style")})),t=!1,!1}})),t&&closeModal()}}function closeModal(t){null==t&&(t=".modal.showing"),document.querySelectorAll(t).forEach((t=>{t.classList.contains("showing")&&(t.classList.add("goingout"),t.addEventListener("animationend",(()=>{t.classList.contains("goingout")&&(t.classList.remove("goingout"),t.classList.remove("showing"),document.body.classList.remove("modal-open"),document.body.style.paddingRight="")})))}))}function initpopup(){document.addEventListener("click",(t=>{let e=!0;document.querySelectorAll(".btn,a").forEach((n=>{(t.target==n||n.contains(t.target))&&"popup"==n.dataset.toggle&&(openPopup(n,n.dataset.target),e=!1)})),e&&document.querySelectorAll(".popup.showing").forEach((e=>{t.target==e||e.contains(t.target)||closePopup()}))}))}function openPopup(t,e){document.querySelectorAll(e).forEach((n=>{n.classList.contains("showing")?closePopup(e):(n.classList.contains("stack")||closePopup(),n.classList.add("showing"),n.classList.contains("dash-right")?n.setAttribute("style",`left: ${t.offsetLeft+t.offsetWidth+10}px;top: ${t.offsetTop}px`):n.setAttribute("style",`left: ${t.offsetLeft}px;top: ${t.offsetTop+t.offsetHeight+10}px`))}))}function closePopup(t){null==t&&(t=".popup.showing"),document.querySelectorAll(t).forEach((t=>{t.classList.add("goingout"),t.addEventListener("animationend",(()=>{t.classList.contains("goingout")&&(t.classList.remove("goingout"),t.classList.remove("showing"))}))}))}function initDropdown(){document.addEventListener("click",(t=>{let e=!0;document.querySelectorAll(".btn,a").forEach((n=>{(t.target==n||n.contains(t.target))&&"dropdown"==n.dataset.toggle&&(openDropdown(n,n.dataset.target),e=!1)})),e&&document.querySelectorAll(".dropdown-link").forEach((n=>{(t.target==n||n.contains(t.target))&&(closeDropdown(),e=!1)})),e&&document.querySelectorAll(".dropdown.showing").forEach((e=>{t.target==e||e.contains(t.target)||closeDropdown()}))}))}function openDropdown(t,e){document.querySelectorAll(e).forEach((n=>{n.classList.contains("showing")?closeDropdown(e):(n.classList.contains("stack")||closeDropdown(),n.classList.add("showing"),n.setAttribute("style",`top: ${t.offsetTop+t.offsetHeight}px;left:${t.offsetLeft}px`),n.getBoundingClientRect().left+n.getBoundingClientRect().width>window.innerWidth&&n.setAttribute("style",`top: ${t.offsetTop+t.offsetHeight}px;left:${t.offsetLeft-n.getBoundingClientRect().width+t.getBoundingClientRect().width}px`))}))}function closeDropdown(t){null==t&&(t=".dropdown.showing"),document.querySelectorAll(t).forEach((t=>{t.classList.remove("showing")}))}function initForm(){function t(){document.querySelectorAll(".valid").forEach((t=>{t.parentElement.querySelectorAll(".form-item-invalid-message").forEach((t=>{t.classList.remove("showing")})),t.parentElement.querySelectorAll(".form-item-valid-message").forEach((t=>{t.classList.add("showing")}))})),document.querySelectorAll(".invalid").forEach((t=>{t.parentElement.querySelectorAll(".form-item-invalid-message").forEach((t=>{t.classList.add("showing")})),t.parentElement.querySelectorAll(".form-item-valid-message").forEach((t=>{t.classList.remove("showing")}))}))}t(),document.addEventListener("input",(e=>{t()})),document.addEventListener("change",(e=>{t()})),document.addEventListener("click",(e=>{t()}))}window.onload=()=>{initnavbar(),initmodal(),initpopup(),initAnimateSlideStyle(),initCollapse(),initForm(),initDropdown()};
