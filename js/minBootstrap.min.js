function initnavbar(){document.addEventListener("click",(e=>{document.querySelectorAll(".navbar-toggler").forEach((t=>{(e.target==t||t.contains(e.target))&&toggleCollapse(t.dataset.target)}))}))}function toggleCollapse(e){document.querySelectorAll(e).forEach((e=>{if(e.classList.contains("opened")){function t(){e.classList.contains("opened")&&e.classList.remove("opened"),e.removeEventListener("animationend",t),e.removeEventListener("webkitAnimationEnd",t)}slideUpElement(e),e.addEventListener("animationend",t),e.addEventListener("webkitAnimationEnd",t)}else e.classList.add("opened"),slideDownElement(e)}))}function initCollapse(){document.addEventListener("click",(e=>{document.querySelectorAll("a,.btn").forEach((t=>{(e.target==t||t.contains(e.target))&&"collapse"==t.dataset.toggle&&toggleCollapse(t.dataset.target)}))}))}function initAnimateSlideStyle(){let e=document.createElement("style");e.id="mb-slide-elm",document.querySelectorAll("head").forEach((t=>{t.append(e)}))}function slideDownElement(e){document.querySelectorAll("#mb-slide-elm").forEach((t=>{t.innerHTML=`\n        @keyframes slide-elm-down {\n            from{\n                max-height: 0px;   \n            }\n            to{\n                max-height: ${e.offsetHeight}px;\n            }\n        }\n        `})),e.setAttribute("style","animation: slide-elm-down .3s ease;will-change:height;"),e.addEventListener("animationend",(()=>{e.removeAttribute("style")}))}function slideUpElement(e){document.querySelectorAll("#mb-slide-elm").forEach((t=>{t.innerHTML=`\n        @keyframes slide-elm-up {\n            from{\n                max-height: ${e.offsetHeight}px;\n            }\n            to{\n                max-height: 0px;\n            }\n        }\n        `})),e.setAttribute("style","animation: slide-elm-up .3s ease;"),e.addEventListener("animationend",(()=>{e.removeAttribute("style")}))}function initmodal(){document.addEventListener("click",(e=>{let t=!0;document.querySelectorAll(".btn,.close,a").forEach((n=>{if(e.target==n||n.contains(e.target)){if("modal"==n.dataset.toggle)return openModal(n.dataset.target),t=!1,!1;if("modal"==n.dataset.dismiss)return closeModal(),t=!1,!1}})),t&&document.querySelectorAll(".modal").forEach((t=>{if(e.target!=t.querySelectorAll(".modal-content").item(0)&&!t.querySelectorAll(".modal-content").item(0).contains(e.target)){if(t.classList.contains("static")){let e=t.querySelectorAll(".modal-dialog").item(0);return t.classList.contains("br")||t.classList.contains("bl")||t.classList.contains("tr")||t.classList.contains("tl")?e.setAttribute("style","transform:scale(1.02);will-change:transform;"):e.setAttribute("style","transform:scale(1.02) translate(-50%);will-change:transform;"),e.addEventListener("transitionend",(()=>{e.removeAttribute("style")})),!1}return closeModal(),!1}}))})),document.addEventListener("keyup",closeModalEsc)}function openModal(e){document.querySelectorAll(e).forEach((e=>{e.classList.add("showing"),document.body.classList.add("modal-open")}))}function closeModalEsc(e){if("Escape"==e.key){let e=!0;document.querySelectorAll(".modal.showing").forEach((t=>{if(t.classList.contains("static")){let n=t.querySelectorAll(".modal-dialog").item(0);return t.classList.contains("br")||t.classList.contains("bl")||t.classList.contains("tr")||t.classList.contains("tl")?n.setAttribute("style","transform:scale(1.02);will-change:transform;"):n.setAttribute("style","transform:scale(1.02) translate(-50%);will-change:transform;"),n.addEventListener("transitionend",(()=>{n.removeAttribute("style")})),e=!1,!1}})),e&&closeModal()}}function closeModal(){document.querySelectorAll(".modal").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"),document.body.classList.remove("modal-open"))})))}))}function initpopup(){document.addEventListener("click",(e=>{document.querySelectorAll(".btn,a").forEach((t=>{(e.target==t||t.contains(e.target))&&"popup"==t.dataset.toggle&&openPopup(t,t.dataset.target)}))}))}function openPopup(e,t){closePopup(),document.querySelectorAll(t).forEach((t=>{t.classList.contains("showing")||(t.classList.add("showing"),t.classList.contains("dash-right")?t.setAttribute("style",`left: ${e.offsetLeft+e.offsetWidth}px;top: ${e.offsetTop}px`):t.setAttribute("style",`right: ${document.body.offsetWidth-e.offsetLeft-e.offsetWidth}px;top: ${e.offsetTop+e.offsetHeight+10}px`),t.addEventListener("animationend",addPopDismiss))}))}function addPopDismiss(){document.addEventListener("click",closePopupTrigger),document.querySelectorAll(".popup").forEach((e=>{removePopupListener(e)}))}function removePopupListener(e){e.removeEventListener("animationend",addPopDismiss)}function closePopupTrigger(e){document.querySelectorAll(".popup").forEach((t=>{e.target!=t&&Array().forEach.call(t.children,(n=>{e.target!=n&&t.classList.contains("showing")&&closePopup()}))}))}function closePopup(){document.querySelectorAll(".popup").forEach((e=>{e.classList.contains("showing")&&(e.classList.add("goingout"),document.removeEventListener("click",closePopupTrigger),e.addEventListener("animationend",(()=>{e.classList.contains("goingout")&&(e.classList.remove("goingout"),e.classList.remove("showing"))})))}))}function initForm(){function e(){document.querySelectorAll(".valid").forEach((e=>{e.parentElement.querySelectorAll(".form-item-invalid-message").forEach((e=>{e.classList.remove("showing")})),e.parentElement.querySelectorAll(".form-item-valid-message").forEach((e=>{e.classList.add("showing")}))})),document.querySelectorAll(".invalid").forEach((e=>{e.parentElement.querySelectorAll(".form-item-invalid-message").forEach((e=>{e.classList.add("showing")})),e.parentElement.querySelectorAll(".form-item-valid-message").forEach((e=>{e.classList.remove("showing")}))}))}e(),document.addEventListener("input",(t=>{e()})),document.addEventListener("change",(t=>{e()})),document.addEventListener("click",(t=>{e()}))}window.onload=()=>{initnavbar(),initmodal(),initpopup(),initAnimateSlideStyle(),initCollapse(),initForm()};
